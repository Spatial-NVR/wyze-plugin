id: wyze
name: Wyze
version: 1.2.4
description: Wyze camera integration with bundled wyze-bridge for RTSP streaming
author: SpatialNVR
homepage: https://github.com/Spatial-NVR/wyze-plugin
license: MIT

runtime:
  type: binary
  binary: wyze-plugin

capabilities:
  - video
  - audio
  - two_way_audio
  - motion
  - snapshot
  - ptz

config_schema:
  type: object
  properties:
    email:
      type: string
      title: Wyze Email
      description: Wyze account email address
    password:
      type: string
      title: Wyze Password
      description: Wyze account password
      format: password
    key_id:
      type: string
      title: API Key ID
      description: Wyze Developer API key ID (optional, improves reliability)
    api_key:
      type: string
      title: API Key
      description: Wyze Developer API key (optional)
      format: password
    totp_key:
      type: string
      title: TOTP Secret
      description: Base32 TOTP secret for 2FA (optional, required if 2FA is enabled)
      format: password
    rtsp_port:
      type: integer
      title: RTSP Port
      description: Port for RTSP streams (default 8564, avoids go2rtc conflict)
      default: 8564
    web_port:
      type: integer
      title: Web UI Port
      description: Port for wyze-bridge web interface (default 5002)
      default: 5002
    cameras:
      type: array
      title: Camera Filter
      description: Specific cameras to enable (leave empty for all cameras)
      items:
        type: object
        properties:
          mac:
            type: string
            description: Camera MAC address
          name:
            type: string
            description: Custom display name
  required:
    - email
    - password
